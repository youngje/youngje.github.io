### React Hooks ğŸ£ <!-- .element: class="green" -->

-----

#### Hooks are future of React!

-----

#### What are Hooks?

<div class="fragment">
  <strong class="yellow">Functional Component</strong>ì—ì„œ <strong class="yellow">stateful logic</strong>ì„ <br/>ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ ëª¨ìŒ.
</div>
<br/>
<div class="fragment">
componentì—ì„œ stateful logicì„ ë¶„ë¦¬í•˜ì—¬ <br/><strong class="yellow">componentëŠ” view renderì—ë§Œ ì§‘ì¤‘</strong>í•  ìˆ˜ ìˆê²Œ í•¨.
</div>

-----

#### Motivation

<iframe
  data-src="https://reactjs.org/docs/hooks-intro.html#motivation"
  data-preload
  width="1400px"
  height="500px"
  allowTransparency="true"
  style="background: #FFFFFF;"
></iframe>

-----

### ğŸ“Œ State Hook

-----

<div class="center-code">

```js
const [state, setState] = useState(initialState);
```

```js
setState(newState);
```

</div>

<div class="fragment">

- <strong class="yellow">setState(newState)</strong> í˜¸ì¶œ ë˜ë©´ state updateê°€ ë˜ê³  componentê°€ re-render ë¨
- `state: any`
  - number, string, array, object...
- í•œ componentì—ì„œ useState ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í•´ë„ ë¨

</div>

-----

#### Functional updates

<div class="center-code">

```js
setState((previousState) => nextState)
```

</div>

<p style="font-size:smaller">setState()ì— <strong class="yellow">update í•¨ìˆ˜</strong> ì „ë‹¬ ê°€ëŠ¥</p>
<p style="font-size:smaller">í•œ ë²ˆì˜ renderì— <strong class="yellow">ì—¬ëŸ¬ë²ˆ</strong> setState() í˜¸ì¶œ í•˜ëŠ” ê²½ìš° ì‚¬ìš©</p>
<p style="font-size:smaller">setState() í˜¸ì¶œë¡œ <strong class="yellow">ê¸°ì¡´ stateëŠ” ëŒ€ì²´</strong> ë¨ (not merge)</p>

-----

#### Lazy initial state

<div class="center-code-wide">

```js
const [state, setState] = useState(() => {
  const initialState = someExpensiveComputation(props);
  return initialState;
});
```

</div>

<br/>
<strong class="yellow">ê³„ì‚° ë¹„ìš©ì´ ë¹„ì‹¼ ë¡œì§</strong>ì„ initial renderì— í•œ ë²ˆë§Œ í˜¸ì¶œ

-----

#### state ë³€ê²½ ê°ì§€

<div style="display:flex">
  <div style="flex-grow:1">
    <p style="padding-top: 30px;font-size:smaller;">
      state ê°’ ë³€ê²½ì€ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is#description">Object.is</a> ë¹„êµ
      <br/>
      <small>component ë‚´ë¶€ ê°ì²´/ë°°ì—´ ìƒì„±ì€ ë§¤ë²ˆ ë‹¤ë¥¸ referenceë¥¼ ê°–ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ stateë¡œ ì¸ì‹</small>
      <br/>
      <br/>
      <br/>
      ë™ì¼ stateë¡œ ì—…ë°ì´íŠ¸ ë˜ë©´ render ë˜ì§€ ì•ŠìŒ
    </p>
  </div>
  <div style="flex-grow:1">
    <img src="./images/object-is.png" width="800px"/>
  </div>
</div>

-----

### âš¡ï¸ Effect hook

-----

#### Effect?

<div class="fragment">
  <strong class="yellow">Side effect</strong>

  <div style="font-size:30px" class="fragment">

- Data fetching
- Setting up a subscription(eg. eventHandler)
- Manually changing the DOM
- timers, logging...

  </div>

  <p class="fragment">React's purely <strong class="yellow">functional world</strong> <span class="fragment"> => <strong class="yellow">imperative world</strong></span></p>
</div>

-----

#### useEffect

<div class="center-code-wide">

```js
useEffect(didUpdate, [dependency]);
```
<!-- .element: style="font-size:1em;" -->

</div>

<p style="font-size:smaller" class="fragment">coponent <strong class="yellow">renderê°€ ì™„ë£Œëœ í›„</strong>ì— ì‹¤í–‰</p>
<p style="font-size:smaller" class="fragment"><strong class="yellow">dependency</strong> ì¶”ê°€í•˜ì—¬ íŠ¹ì • ê°’ì´ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •</p>
<p style="font-size:smaller" class="fragment">dependency ì—†ëŠ” ê²½ìš° render í›„ì— í•­ìƒ ì‹¤í–‰</p>
<p style="font-size:smaller" class="fragment">ğŸ‘‰ ë¬´í•œë£¨í”„ ì£¼ì˜</p>

-----

<p style="font-size:smaller">useEffect í˜¸ì¶œì€ <strong class="yellow">browser paintë¥¼ block í•˜ì§€ ì•ŠìŒ</strong> => ë°˜ì‘ì„± í–¥ìƒ</p>
<br/>
<p style="font-size:smaller" class="fragment">ê´€ì‹¬ ì£¼ì œì— ë”°ë¼ <strong class="yellow">useEffectë¥¼ ë‚˜ëˆ„ì–´ì„œ ì‚¬ìš©</strong> ì¶”ì²œ</p>
<p style="font-size:25px" class="fragment">ê´€ì‹¬ ì£¼ì œê°€ ì—¬ëŸ¬ê°œë©´ ì—¬ëŸ¬ê°œì˜ useEffectë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ì— ì¢‹ìŒ</p>

-----

#### ğŸ§¹cleanup effect

<p style="font-size:smaller">useEffect()ì˜ <strong class="yellow">returnìœ¼ë¡œ cleanup function ì „ë‹¬</strong> ê°€ëŠ¥</p>
<p style="font-size:30px" class="fragment"><strong class="yellow">ë‹¤ìŒ useEffect() ì‹¤í–‰ ì „</strong>ì— ì´ì „ useEffect()ì˜ cleanup function í˜¸ì¶œ ë¨</p>
<p style="font-size:smaller" class="fragment">component <strong class="yellow">unmount ë  ë•Œ</strong>ë„ í˜¸ì¶œ</p>

-----

### useRef

-----

#### When to use useRef?

<p style="font-size:smaller"><strong class="yellow">DOM ì ‘ê·¼</strong>ì— ì‚¬ìš©</p>
<p style="font-size:smaller"><strong class="yellow">renderì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”</strong> mutable data ê´€ë¦¬ì— í¸ë¦¬</p>

-----

#### ê·¸ ì™¸ì˜ hooks

<iframe
  data-src="https://reactjs.org/docs/hooks-reference.html"
  data-preload
  width="1400px"
  height="500px"
  allowTransparency="true"
  style="background: #FFFFFF;"
></iframe>

-----

#### ğŸ’¡ Building Your Own Hooks

<div style="display:flex">
  <div style="flex-grow:1">
    <p style="padding-top: 30px;font-size:smaller;">
      stateful logic <strong class="yellow">ì¬ì‚¬ìš©</strong>
      <br/>
      component <strong class="yellow">ê°€ë…ì„±</strong>ì„ ìœ„í•´
    </p>
  </div>
  <div style="flex-grow:1">
    <img src="./images/custom-hooks.png" width="500px"/>
  </div>
</div>

-----

#### âœŒï¸ Rules of Hooks

1. Only Call Hooks at the Top Level
1. Only Call Hooks from React Functions

<br/>
<br/>
<p style="font-size:smaller">[í•„ìˆ˜] eslint-plugin-react-hooks ì¶”ê°€í•˜ì—¬ lint ë„ì›€ ë°›ê¸°</p>
<p style="font-size:smaller">[ì°¸ê³ ] lint ë„ì›€ì„ ë°›ê¸° ìœ„í•´ custom hook ë“¤ì€ use prefixë¥¼ ë¶™ì¸ë‹¤.</p>

-----

#### Under the hood of React hooks

![](./images/hooks-under-the-hood.png) <!-- .element: style="height:500px" -->

-----

#### Benefit of hooks

- logic ì¬ì‚¬ìš©ì„±
- ê°„ê²°í•¨, ì‘ì§‘ë„

-----

#### 10 React Hooks Explained

<iframe
  width="1200"
  height="450"
  src="https://www.youtube.com/embed/TNhaISOUy6Q"
  title="YouTube video player"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
  allowfullscreen>
</iframe>
